<div class="container mx-auto">
  <div class="card-body">
    <h5 class="card-title text-center" id="createUserFormTitle">Change Password</h5>
  </div>
  <form #changePasswordForm="ngForm">
    <!-- <p>Testing: {{diagnostic}}</p> -->
    <div class="form-group">
      <div class="input-group">
        <div class="input-group-prepend">
          <label class="input-group-text" for="oldPassword"> Old Password * </label>
        </div>
        <input type="password" class="form-control" id="oldPassword" 
        required minlength="5" 
        [(ngModel)]="oldPassword" name="oldPassword">
      </div>
    </div>
    <!-- <small id="newPassword" class="form-text text-muted">Minimum password length is 8.</small> -->
    <div class="form-group">
      <div class="input-group">
        <div class="input-group-prepend">
          <label class="input-group-text" for="newPassword"> New Password * </label>
        </div>
        <input type="password" class="form-control" id="newPassword"
        required minlength="8" 
        [(ngModel)]="newPassword" name="newPassword">
      </div>
    </div>

    <div *ngIf="newPassword === oldPassword && oldPassword != undefined && newPassword != undefined ">
       <div class="alert alert-danger" role="alert">
        New password cannot be the same as old password.   
       </div>
    </div>  

    <div class="form-group">
      <div class="input-group">
        <div class="input-group-prepend">
          <label class="input-group-text" for="confirmPassword"> Confirm New Password * </label>
        </div>
        <input type="password" class="form-control" id="confirmPassword" 
        required minlength="8" 
        [(ngModel)]="confirmPassword" name="confirmPassword">
      </div>
    </div>

    <div *ngIf="newPassword !== confirmPassword && newPassword != undefined && confirmPassword != undefined ">
       <div class="alert alert-danger" role="alert">
        Your new passwords don't match.
       </div>
    </div>  

    <button type="submit" class="btn btn-success" id="submitChangePasswordFormButton"
    style="float: right;" 
    [disabled]="changePasswordForm.form.invalid" 
    (click)="changePassword(oldPassword, newPassword, confirmPassword); changePasswordForm.reset()">Change Password</button>
  </form>
</div>